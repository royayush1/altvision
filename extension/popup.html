<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>AltVision</title>
        <link rel="stylesheet" href="popup.css"/>
        <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src * blob: data:; style-src 'self'; script-src 'self';"/>
    </head>
    <body>
        <header>
            <h1>AltVision</h1>
            <p>On-device image descriptions (optional translate)</p>
            <p>Please refresh page before using this extension</p>
        </header>

        <section class="controls">
            <button id="prepare" title="Prepare the on-device AI model first (optional)">Prepare AI</button>

            <label for="lang">Translate to:</label>
            <select id="lang">
                <option value="">(none)</option>
                <option value="en">English</option>
                <option value="hi">Hindi</option>
                <option value="es">Spanish</option>
                <option value="fr">French</option>
                <option value="de">German</option>
                <option value="ja">Japanese</option>
                <option value="ko">Korean</option>
                <option value="zh">Chinese</option>
                <option value="bn">Bengali</option>
                <option value="ar">Arabic</option>
            </select>

            <button id="describe">Describe images on this page</button>
            <label class="inline"><input type="checkbox" id="writeAlts" checked/>Write into <code>alt=""</code> / <code>aria-label</code></label>
        </section>

        <section id="status" class="status" aria-live="polite"></section>
        <section id="results"></section>

        <footer>
            <small>All AI runs locally via Chrome built-in AI</small>
        </footer>

        <script src="popup.js" type="module"></script>
    </body>
</html>